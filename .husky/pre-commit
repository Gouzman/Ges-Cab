#!/bin/sh

# Vérifier les secrets avant commit
npx secretlint "**/*" --secretlintrc .secretlintrc.json || true

# Vérifier les fichiers .env
if git diff --cached --name-only | grep -q "\.env$"; then
  echo "⚠️  ATTENTION : Vous essayez de commiter un fichier .env"
  echo "Ces fichiers ne doivent jamais être commités."
  exit 1
fi